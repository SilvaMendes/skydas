{"name":"Skydas","tagline":"FreeSwitch PHP API and Angular JS Mod_Callcenter Panel","body":"Skydas\r\n=========\r\n\r\nSkydas is a ESL API and Angluar JS Panel for Freeswitch using PHP and ESL.\r\n    \r\n  - Uses Slim PHP and FS EventSocket Layer\r\n  - Angualr JS for a Mod_Callcenter Web Interface\r\n  \r\nPanel\r\n----\r\nThe Panel is all powered by Angular JS and is live updating\r\n\r\n____\r\n\r\nInstallation\r\n============\r\nPlease install the ESL PHP module from FreeSwitch Src on 1.2.stable see [PHP ESL](https://wiki.freeswitch.org/wiki/PHP_ESL)\r\n\r\n```\r\nGit clone to your web directory\r\ngit clone https://github.com/Symplicity/skydas\r\n\r\npoint a Apache / Nginx / Lighttpd host at it\r\ncd skydas/api/\r\ncp settings.inc.DIST settings.inc (Updated with your information)\r\ncd ../panel/app/scripts\r\ncp config.js.DIST config.js (Update with your API_HOST url)\r\n\r\nload in browser supporting js at http://<url>/panel and http://<url>/api/\r\n```\r\n\r\n____\r\n\r\n\r\nApi\r\n----\r\n  - Here is a list of commands, all data is returned in JSON\r\n  - Require that all POST Requests are in JSON\r\n  \r\n**API Commands**\r\n\r\n * /user/:exten -> Returns Username\r\n    ```\r\n    {\"msg\":\"Richard Genthner\",\"error\":false,\"status\":200}\r\n    ```\r\n * /:queue/agents -> Returns All Agents in Given Queue\r\n    ```\r\n    {\r\n    \"msg\": {\r\n        \"1003@default\": {\r\n            \"name\": \"Sue Smith\",\r\n            \"status\": \"Available\",\r\n            \"state\": \"Receiving\",\r\n            \"no_answer_count\": \"1\",\r\n            \"calls_answered\": \"16\",\r\n            \"extension\": \"1003@default\",\r\n            \"queue\": \"queue1@default\",\r\n            \"queue_state\": \"Offering\",\r\n            \"level\": \"1\",\r\n            \"position\": \"1\"\r\n        }\r\n    },\r\n    \"error\": false,\r\n    \"status\": 200\r\n    ```\r\n * /:queue/tiers -> Returns All Agent Tiers in Given Queue\r\n    ```\r\n    {\r\n    \"msg\": [\r\n        {\r\n            \"queue\": \"queue1@default\",\r\n            \"agent\": \"1006@default\",\r\n            \"state\": \"No Answer\",\r\n            \"level\": \"1\",\r\n            \"position\": \"1\"\r\n        },\r\n        {\r\n            \"queue\": \"queue1@default\",\r\n            \"agent\": \"1002@default\",\r\n            \"state\": \"No Answer\",\r\n            \"level\": \"1\",\r\n            \"position\": \"1\"\r\n        }\r\n    ],\r\n    \"error\": false,\r\n    \"status\": 200\r\n    }\r\n    ```\r\n * /:queue/callers -> Returns All Callerss in Given Queue\r\n    ```\r\n    {\r\n    \"msg\": [\r\n        {\r\n            \"queue\": \"queue1@default\",\r\n            \"system\": \"single_box\",\r\n            \"uuid\": \"ce2a7a0c-2ada-11e3-86e3-b1e2db555261\",\r\n            \"session_uuid\": \"cacd7fc6-2ada-11e3-86da-b1e2db555261\",\r\n            \"cid_number\": \"+15552785621\",\r\n            \"cid_name\": \"+15552785621\",\r\n            \"system_epoch\": \"1380660500\",\r\n            \"joined_epoch\": \"1380660500\",\r\n            \"rejoined_epoch\": \"0\",\r\n            \"bridge_epoch\": \"1380660522\",\r\n            \"abandoned_epoch\": \"0\",\r\n            \"base_score\": \"0\",\r\n            \"skill_score\": \"0\",\r\n            \"serving_agent\": \"1009@default\",\r\n            \"serving_system\": \"single_box\",\r\n            \"state\": \"Answered\"\r\n        }\r\n    ],\r\n    \"error\": false,\r\n    \"status\": 200\r\n    }\r\n    ```\r\n * /status -> Returns FreeSwitch Status\r\n  ```\r\n    {\r\n    \"msg\": {\r\n        \"UP0years,\r\n        0days,\r\n        19hours,\r\n        34minutes,\r\n        45seconds,\r\n        898milliseconds,\r\n        829microseconds\": \"FreeSWITCH(Version1.2.13gitc26e2ec2013-09-1815: 05: 04Z)isready\"\r\n    },\r\n    \"error\": false,\r\n    \"status\": 200\r\n    }\r\n```\r\n * /tiers -> Returns Teirs for all queues\r\n ```\r\n{\r\n    \"msg\": [\r\n        {\r\n            \"queue\": \"queue2@default\",\r\n            \"agent\": \"1002@default\",\r\n            \"state\": \"Ready\",\r\n            \"level\": \"1\",\r\n            \"position\": \"1\"\r\n        },\r\n        {\r\n            \"queue\": \"queue1@default\",\r\n            \"agent\": \"1002@default\",\r\n            \"state\": \"No Answer\",\r\n            \"level\": \"1\",\r\n            \"position\": \"1\"\r\n        }\r\n    ],\r\n    \"error\": false,\r\n    \"status\": 200\r\n}\r\n```\r\n\r\n *  /create/extension -> (POST) requires the following JSON object -> Returns true or false\r\n ```\r\n{\r\n    \"access_key\": \"my super key here\",\r\n    \"action\":\"reloadxml\",\r\n    \"user_id\": \"9999\",\r\n    \"params\": {\r\n        \"password\": \"123\",\r\n        \"vm-password\": \"1234\",\r\n        \"vm-email-all-messages\": \"true\",\r\n        \"vm-notify-mailto\": \"true\",\r\n        \"vm-mailto\": \"john.doe@example.com\",\r\n        \"vm-attach-file\": \"true\",\r\n        \"vm-message-ext\": \"wav\"\r\n    },\r\n    \"variables\": {\r\n        \"toll_allow\": \"domestic,international,local\",\r\n        \"accountcode\": \"9999\",\r\n        \"user_context\": \"default\",\r\n        \"effective_caller_id_name\": \"John Doe\",\r\n        \"effective_caller_id_number\": \"9999\",\r\n        \"outbound_caller_id_name\": \"$${outbound_caller_name}\",\r\n        \"outbound_caller_id_number\": \"$${outbound_caller_id}\",\r\n        \"directory_full_name\": \"John Doe\"\r\n    }\r\n}\r\n```\r\n\r\n * /connect -> (POST) requires the following JSON object\r\n ```\r\n    Comming Soon!\r\n ```\r\n\r\n * /voicemail/greeting -> (POST) requires the following JSON object\r\n ```\r\n{\r\n    \"access_key\": \"my super key\",\r\n    \"exten\": \"1009\",\r\n    \"greeting_number\": \"1\"\r\n} \r\n```\r\n\r\n * /validate/:queue -> pass queue name returns true or false\r\n ```\r\n{\r\n        \"validate\": \"true\"\r\n}\r\n```\r\n\r\n * /calls -> Returns a JSON object of calls on the system\r\n ```\r\n{\r\n    \"msg\": [\r\n        {\r\n            \"uuid,direction,created,created_epoch,name,state,cid_name,cid_num,ip_addr,dest,presence_id,presence_data,callstate,callee_name,callee_num,callee_direction,call_uuid,hostname,sent_callee_name,sent_callee_num,b_uuid,b_direction,b_created,b_created_epoch,b_name,b_state,b_cid_name,b_cid_num,b_ip_addr,b_dest,b_presence_id,b_presence_data,b_callstate,b_callee_name,b_callee_num,b_callee_direction,b_sent_callee_name,b_sent_callee_num,call_created_epoch\": \"fb2e5b04-3c00-11e3-96f0-1ff78d1619a2,inbound,2013-10-23 12:34:26,1382546066,sofia/internal/1000@fsbox.example.com:5060,CS_EXECUTE,John Doe,1000,24.2.55.181,1000,1000@fsbox.example.com,,UNHOLD,Outbound Call,1003,SEND,fb2e5b04-3c00-11e3-96f0-1ff78d1619a2,fsbox.example.com,Outbound Call,1003,fb530f9e-3c00-11e3-970e-1ff78d1619a2,outbound,2013-10-23 12:34:26,1382546066,sofia/internal/sip:1000@10.122.1.152:56884,CS_EXCHANGE_MEDIA,John Doe<1000>,8243,24.2.55.181,8233,1000@fsbox.example.com,,UNHOLD,Outbound Call,1000,SEND,User<1000>,1000,1382546068\"\r\n        }\r\n    ],\r\n    \"error\": false,\r\n    \"status\": 200\r\n}\r\n```\r\n\r\n * /tools/caller/:password/:cid -> Returns a JSON object of caller id information\r\n ```\r\n        {\"msg\":\"WISCASSET,ME 2175550005\",\"error\":false,\"status\":200 }\r\n ```\r\n\r\n * /monitor/:stat -> Returns a Json object of a Digit\r\n ```\r\n\r\n ```\r\n\r\nAuthor\r\n----\r\nRichard 'Moose' Genthner <rgenthner@symplicity.com>\r\n\r\nLicense\r\n--------\r\n\r\nBSD\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}